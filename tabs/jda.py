import streamlit as st
import pandas as pd

def render():
    st.header("ЁЯдЭ р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕гр╣Ир╕зр╕б (JDA: Joint Development Area)")
    st.caption("р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕гр╣Ир╕зр╕бр╣Др╕Чр╕в-р╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в (Thailand-Malaysia Joint Development Area)")

    # ==============================
    # 1. р╕Щр╕┤р╕вр╕▓р╕бр╣Бр╕ер╕░р╕нр╕Зр╕Др╣Мр╕Бр╕г (Definitions)
    # ==============================
    st.subheader("1. р╕Щр╕┤р╕вр╕▓р╕бр╣Бр╕ер╕░р╕нр╕Зр╕Др╣Мр╕Бр╕г (Key Concepts)")
    
    col1, col2 = st.columns(2)
    with col1:
        with st.container(border=True):
            st.markdown("#### ЁЯПв р╕нр╕Зр╕Др╣Мр╕Бр╕гр╕гр╣Ир╕зр╕б (Joint Authority)")
            st.markdown("р╕нр╕Зр╕Др╣Мр╕Бр╕гр╕Чр╕╡р╣Ир╕Ир╕▒р╕Фр╕Хр╕▒р╣Йр╕Зр╕Вр╕╢р╣Йр╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Ър╕гр╕┤р╕лр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕гр╣Ир╕зр╕бр╣Др╕Чр╕в-р╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в")
    with col2:
        with st.container(border=True):
            st.markdown("#### ЁЯСо р╕Др╕Ур╕░р╕Бр╕гр╕гр╕бр╕Бр╕▓р╕гр╕ир╕╕р╕ер╕Бр╕▓р╕Бр╕гр╕гр╣Ир╕зр╕б")
            st.markdown("р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕вр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕ир╕╕р╕ер╕Бр╕▓р╕Бр╕г/р╕кр╕гр╕гр╕Юр╕кр╕▓р╕бр╕┤р╕Хр╕Вр╕нр╕З **р╣Др╕Чр╕в + р╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в** р╕Чр╕│р╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Щ")

    st.divider()

    # ==============================
    # 2. р╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕вр╣Йр╕▓р╕вр╕Вр╕нр╕З (Movement of Goods) - р╕кр╕│р╕Др╕▒р╕Н!
    # ==============================
    st.subheader("2. р╕кр╕Цр╕▓р╕Щр╕░р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Movement Rules)")
    st.info("ЁЯТб **р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Ир╕│:** р╕Фр╕╣р╕Хр╣Йр╕Щр╕Чр╕▓р╕Зр╣Бр╕ер╕░р╕Ыр╕ер╕▓р╕вр╕Чр╕▓р╕Зр╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б")

    # Flow Chart р╣Бр╕Ър╕Ъ Text
    st.markdown("""
    | р╕Хр╣Йр╕Щр╕Чр╕▓р╕З (Origin) | р╕Ыр╕ер╕▓р╕вр╕Чр╕▓р╕З (Destination) | р╕кр╕Цр╕▓р╕Щр╕░р╕Чр╕▓р╕Зр╕ир╕╕р╕ер╕Бр╕▓р╕Бр╕г (Status) |
    | :--- | :--- | :--- |
    | ЁЯМП р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕╡р╣И 3 | тЮбя╕П р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕гр╣Ир╕зр╕б (JDA) | **р╕Вр╕нр╕Зр╕Щр╕│р╣Ар╕Вр╣Йр╕▓ (Import)** |
    | ЁЯЗ╣ЁЯЗн р╣Др╕Чр╕в / ЁЯЗ▓ЁЯЗ╛ р╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в | тЮбя╕П р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕гр╣Ир╕зр╕б (JDA) | **р╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕вр╣Йр╕▓р╕вр╕ар╕▓р╕вр╣Гр╕Щ (Domestic)** |
    | ЁЯПн р╕Ьр╕ер╕┤р╕Хр╣Гр╕Щ JDA | тЮбя╕П р╣Др╕Чр╕в / р╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в / р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕╡р╣И 3 | **р╕Вр╕нр╕Зр╕кр╣Ир╕Зр╕нр╕нр╕Б (Export)** |
    """)
    
    st.caption("*р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕: р╕Вр╕нр╕Зр╕Хр╣Йр╕нр╕Зр╕лр╣Йр╕▓р╕б (Prohibited Goods) р╕лр╣Йр╕▓р╕бр╕Щр╕│р╣Ар╕Вр╣Йр╕▓ JDA р╣Ар╕зр╣Йр╕Щр╣Бр╕Хр╣Ир╕Хр╕Бр╕ер╕Зр╕Бр╕▒р╕Щр╣Ар╕Ыр╣Зр╕Щр╕Юр╕┤р╣Ар╕ир╕й*")

    st.divider()

    # ==============================
    # 3. р╕кр╕┤р╕Чр╕Шр╕┤р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Чр╕▓р╕Зр╕ар╕▓р╕йр╕╡ (Duty & Tax)
    # ==============================
    st.subheader("3. р╕кр╕┤р╕Чр╕Шр╕┤р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Чр╕▓р╕Зр╕ар╕▓р╕йр╕╡ (Duty Rates)")
    
    c_tax1, c_tax2, c_tax3 = st.columns(3)
    with c_tax1:
        st.warning("р╕ер╕Ф 50%")
        st.markdown("**р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Ир╕зр╣Др╕Ы**")
        st.caption("р╕Щр╕│р╣Ар╕Вр╣Йр╕▓/р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Ир╕▓р╕Б JDA р╕ер╕Фр╕нр╕▓р╕Бр╕гр╕Чр╕╡р╣Ир╣Ар╕гр╕╡р╕вр╕Бр╣Ар╕Бр╣Зр╕Ър╕ер╕Зр╕Бр╕╢р╣Ир╕Зр╕лр╕Щр╕╢р╣Ир╕З")
    with c_tax2:
        st.success("р╕вр╕Бр╣Ар╕зр╣Йр╕Щ (0%)")
        st.markdown("**р╕Вр╕нр╕Зр╣Гр╕Кр╣Йр╣Гр╕Щр╕Бр╕┤р╕Ир╕Бр╕▓р╕г JDA**")
        st.caption("р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н/р╕зр╕▒р╕кр╕Фр╕╕ р╕Чр╕╡р╣Ир╕нр╕Зр╕Др╣Мр╕Бр╕гр╕гр╣Ир╕зр╕бр╕Щр╕│р╕бр╕▓р╣Гр╕Кр╣Й")
    with c_tax3:
        st.info("р╣Бр╕Ър╣Ир╕З 50:50")
        st.markdown("**р╣Ар╕Зр╕┤р╕Щр╕Вр╕▓р╕вр╕Вр╕нр╕Зр╕Бр╕ер╕▓р╕З**")
        st.caption("р╕Вр╕нр╕Зр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕гр╕┤р╕Ъ р╕Вр╕▓р╕вр╣Др╕Фр╣Йр╣Бр╕Ър╣Ир╕Зр╣Ар╕Зр╕┤р╕Щр╣Ар╕Чр╣Ир╕▓р╕Бр╕▒р╕Щ р╣Др╕Чр╕в-р╕бр╕▓р╣Ар╕ер╕вр╣М")

    st.divider()

    # ==============================
    # 4. р╣Бр╕Ър╕Ър╣Гр╕Ър╕Вр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Declaration Forms)
    # ==============================
    st.subheader("4. р╣Бр╕Ър╕Ър╣Гр╕Ър╕Вр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓ JDA (4 р╣Бр╕Ър╕Ъ)")
    st.markdown("р╕Ир╕│р╕Зр╣Ир╕▓р╕вр╣Ж: **JDA 1-3** + **р╣Гр╕Ър╕Вр╕Щр╕Юр╕┤р╣Ар╕ир╕й**")

    jda_forms = [
        {"р╣Бр╕Ър╕Ъ": "JDA 1", "р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ": "р╕Щр╕│р╕Вр╕нр╕З **р╣Ар╕Вр╣Йр╕▓** р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣И JDA (Import)", "р╕Чр╕гр╕┤р╕Др╕Ир╕│": "1 = р╣Ар╕Вр╣Йр╕▓ (Start)"},
        {"р╣Бр╕Ър╕Ъ": "JDA 2", "р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ": "р╕Щр╕│р╕Вр╕нр╕Зр╕Чр╕╡р╣И **р╕Ьр╕ер╕┤р╕Хр╣Гр╕Щ JDA** р╕нр╕нр╕Бр╣Др╕Ы (Export Product)", "р╕Чр╕гр╕┤р╕Др╕Ир╕│": "2 = р╕Ьр╕ер╕┤р╕Хр╕нр╕нр╕Б"},
        {"р╣Бр╕Ър╕Ъ": "JDA 3", "р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ": "р╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕вр╣Йр╕▓р╕вр╕Вр╕нр╕Зр╕Ир╕▓р╕Б **р╣Др╕Чр╕в -> JDA** (Move)", "р╕Чр╕гр╕┤р╕Др╕Ир╕│": "3 = р╣Др╕Чр╕вр╣Др╕Ы JDA"},
        {"р╣Бр╕Ър╕Ъ": "р╣Гр╕Ър╕Вр╕Щр╕Юр╕┤р╣Ар╕ир╕й", "р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ": "р╕Вр╕нр╕Зр╕Ир╕▓р╕Б JDA р╕Ьр╣Ир╕▓р╕Щр╣Др╕Чр╕в **р╣Др╕Ыр╕бр╕▓р╣Ар╕ер╣Ар╕Лр╕╡р╕в**", "р╕Чр╕гр╕┤р╕Др╕Ир╕│": "Special Export"},
    ]
    
    df_jda = pd.DataFrame(jda_forms)
    st.dataframe(
        df_jda,
        use_container_width=True,
        hide_index=True,
        column_config={
            "р╣Бр╕Ър╕Ъ": st.column_config.TextColumn("ЁЯУЭ р╣Бр╕Ър╕Ър╕Яр╕нр╕гр╣Мр╕б", width="small"),
            "р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ": st.column_config.TextColumn("р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М", width="medium"),
            "р╕Чр╕гр╕┤р╕Др╕Ир╕│": st.column_config.TextColumn("р╕Чр╕гр╕┤р╕Др╕Кр╣Ир╕зр╕вр╕Ир╕│", width="medium"),
        }
    )

    st.divider()

    # ==============================
    # Cheat Sheet
    # ==============================
    st.header("тЪб р╕кр╕гр╕╕р╕Ыр╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕Ир╕│р╕кр╕нр╕Ъ (Cheat Sheet)")
    
    col_sum1, col_sum2 = st.columns(2)
    with col_sum1:
        st.markdown("##### ЁЯТ░ р╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕ар╕▓р╕йр╕╡")
        st.markdown("- р╕ер╕Фр╕нр╕▓р╕Бр╕гр╕Чр╕▒р╣Ир╕зр╣Др╕Ы: **50%**")
        st.markdown("- р╕Вр╕нр╕Зр╣Гр╕Кр╣Йр╣Гр╕Щр╕Бр╕┤р╕Ир╕Бр╕▓р╕г: **р╕вр╕Бр╣Ар╕зр╣Йр╕Щ**")
        st.markdown("- р╣Ар╕Зр╕┤р╕Щр╕Вр╕▓р╕вр╕Вр╕нр╕Зр╕Бр╕ер╕▓р╕З: **р╣Бр╕Ър╣Ир╕Зр╕Др╕гр╕╢р╣Ир╕З (50:50)**")
    
    with col_sum2:
        st.markdown("##### ЁЯЪЫ р╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕вр╣Йр╕▓р╕в")
        st.markdown("- р╣Др╕Чр╕в -> JDA = **р╣Гр╕Щр╕Ыр╕гр╕░р╣Ар╕Чр╕и**")
        st.markdown("- р╕Хр╕Ыр╕Ч. -> JDA = **р╕Щр╕│р╣Ар╕Вр╣Йр╕▓**")
        st.markdown("- р╕Ьр╕ер╕┤р╕Хр╣Гр╕Щ JDA -> р╕нр╕нр╕Бр╣Др╕Ы = **р╕кр╣Ир╕Зр╕нр╕нр╕Б**")
